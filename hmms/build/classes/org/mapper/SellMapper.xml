<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="org.mapper.SellMapper" >
  <resultMap id="BaseResultMap" type="org.bean.Sell" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="pinyinma" property="pinyinma" jdbcType="VARCHAR" />
    <result column="drugname" property="drugname" jdbcType="VARCHAR" />
    <result column="pihao" property="pihao" jdbcType="VARCHAR" />
    <result column="pizhunwenhao" property="pizhunwenhao" jdbcType="VARCHAR" />
    <result column="samount" property="samount" jdbcType="INTEGER" />
    <result column="sellprice" property="sellprice" jdbcType="DECIMAL" />
    <result column="allprice" property="allprice" jdbcType="DECIMAL" />
    <result column="stime" property="stime" jdbcType="DATE" />
    <result column="operator" property="operator" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    id, pinyinma, drugname, pihao, pizhunwenhao, samount, sellprice, allprice, stime, 
    operator
  </sql>
  
  <insert id="addSellDrug" parameterType="org.bean.Sell" >
    insert into sell (pinyinma, drugname, pihao, pizhunwenhao, samount, 
      sellprice, allprice, stime, operator)
    values (#{pinyinma}, #{drugname}, #{pihao}, #{pizhunwenhao}, #{samount},
    #{sellprice}, #{allprice}, date_format(now(),'%y-%m-%d'), 
    #{operator})
  </insert>
  
  <select id="getSellDrugInfo" resultType="org.bean.Sell"  >
    select * from sell where 1=1
		<if test="pinyinma != null and pinyinma !=''">
			AND pinyinma LIKE '%' #{pinyinma} '%'
		</if>
		<if test="drugname != null and drugname !=''">
			AND drugname LIKE '%' #{drugname} '%'
		</if>
		<if test="dateStart != null and dateStart !=''">
			AND stime >=
			str_to_date(#{dateStart,jdbcType=VARCHAR}, '%Y-%m-%d')
		</if>
		<if test="dateEnd != null and dateEnd !=''">
		<![CDATA[
			AND stime <=
			str_to_date(#{dateEnd,jdbcType=VARCHAR}, '%Y-%m-%d')
		]]>
		</if>
  </select>
  
  
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    select 
    <include refid="Base_Column_List" />
    from sell
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    delete from sell
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="org.bean.Sell" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    insert into sell (id, pinyinma, drugname, 
      pihao, pizhunwenhao, samount, 
      sellprice, allprice, stime, 
      operator)
    values (#{id,jdbcType=INTEGER}, #{pinyinma,jdbcType=VARCHAR}, #{drugname,jdbcType=VARCHAR}, 
      #{pihao,jdbcType=VARCHAR}, #{pizhunwenhao,jdbcType=VARCHAR}, #{samount,jdbcType=INTEGER}, 
      #{sellprice,jdbcType=DECIMAL}, #{allprice,jdbcType=DECIMAL}, #{stime,jdbcType=DATE}, 
      #{operator,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="org.bean.Sell" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    insert into sell
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="pinyinma != null" >
        pinyinma,
      </if>
      <if test="drugname != null" >
        drugname,
      </if>
      <if test="pihao != null" >
        pihao,
      </if>
      <if test="pizhunwenhao != null" >
        pizhunwenhao,
      </if>
      <if test="samount != null" >
        samount,
      </if>
      <if test="sellprice != null" >
        sellprice,
      </if>
      <if test="allprice != null" >
        allprice,
      </if>
      <if test="stime != null" >
        stime,
      </if>
      <if test="operator != null" >
        operator,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="pinyinma != null" >
        #{pinyinma,jdbcType=VARCHAR},
      </if>
      <if test="drugname != null" >
        #{drugname,jdbcType=VARCHAR},
      </if>
      <if test="pihao != null" >
        #{pihao,jdbcType=VARCHAR},
      </if>
      <if test="pizhunwenhao != null" >
        #{pizhunwenhao,jdbcType=VARCHAR},
      </if>
      <if test="samount != null" >
        #{samount,jdbcType=INTEGER},
      </if>
      <if test="sellprice != null" >
        #{sellprice,jdbcType=DECIMAL},
      </if>
      <if test="allprice != null" >
        #{allprice,jdbcType=DECIMAL},
      </if>
      <if test="stime != null" >
        #{stime,jdbcType=DATE},
      </if>
      <if test="operator != null" >
        #{operator,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="org.bean.Sell" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    update sell
    <set >
      <if test="pinyinma != null" >
        pinyinma = #{pinyinma,jdbcType=VARCHAR},
      </if>
      <if test="drugname != null" >
        drugname = #{drugname,jdbcType=VARCHAR},
      </if>
      <if test="pihao != null" >
        pihao = #{pihao,jdbcType=VARCHAR},
      </if>
      <if test="pizhunwenhao != null" >
        pizhunwenhao = #{pizhunwenhao,jdbcType=VARCHAR},
      </if>
      <if test="samount != null" >
        samount = #{samount,jdbcType=INTEGER},
      </if>
      <if test="sellprice != null" >
        sellprice = #{sellprice,jdbcType=DECIMAL},
      </if>
      <if test="allprice != null" >
        allprice = #{allprice,jdbcType=DECIMAL},
      </if>
      <if test="stime != null" >
        stime = #{stime,jdbcType=DATE},
      </if>
      <if test="operator != null" >
        operator = #{operator,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="org.bean.Sell" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Tue Apr 24 17:24:54 CST 2018.
    -->
    update sell
    set pinyinma = #{pinyinma,jdbcType=VARCHAR},
      drugname = #{drugname,jdbcType=VARCHAR},
      pihao = #{pihao,jdbcType=VARCHAR},
      pizhunwenhao = #{pizhunwenhao,jdbcType=VARCHAR},
      samount = #{samount,jdbcType=INTEGER},
      sellprice = #{sellprice,jdbcType=DECIMAL},
      allprice = #{allprice,jdbcType=DECIMAL},
      stime = #{stime,jdbcType=DATE},
      operator = #{operator,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>